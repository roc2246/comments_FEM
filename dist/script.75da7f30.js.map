{"version":3,"sources":["script.js","../node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["fetch","then","response","ok","Error","json","data","element","content","source","document","createElement","classList","add","message","innerText","replyingTo","undefined","concat","appendChild","createdAt","vote","upvote","plus","src","score","downvote","minus","avatar","user","image","png","alt","username","currentUser","name","indicator","updateForm","updateInput","value","updateSend","CRUD","createCRUDbtn","type","btn","btnIcon","btnTxt","charAt","toUpperCase","slice","_data$","comments","_loop","comment","container","getElementById","post","newCommentAvatar","querySelector","postCont","counter","replies","newComment","ele","append","createReplyForm","replyForm","replyInput","placeholder","replySend","length","replyCont","hr","reply","style","gridTemplateRows","childElementCount","selectors","form","replyToReply","update","deleteComment","input","replyTo","replyReplyTo","querySelectorAll","userComments","getElementsByClassName","modal","replyContent","replyToReplyContent","edit","delete","httpRequest","_delete","x","y","oldContent","newContent","scoreContianer","mode","postContainer","parentElement","change","childNodes","toggles","contains","remove","display","_loop2","editBtn","addEventListener","_loop3","replyBtn","_loop4","_loop5","deleteBtn","deleteModal","replyCount","no","previousElementSibling","generateID","IDarray","id","push","ID","Math","max","apply","addFunctionality","editForm","e","preventDefault","chosen","console","log","newPost","_data$2","webp","wrapper","_loop6","_x5","_data$3","newReply","insertAdjacentElement","replyWrapper","_loop7","_x6","_data$4","parentNode","parentComment","previousSibling","_loop8","_x7","_loop9","_loop10","_x9","catch","error","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","body","stackTrace","innerHTML","getParents","modules","parents","k","d","dep","Array","isArray","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..\\src","sourcesContent":["// COMMENT GENERATION\nfetch(\"http://localhost:3000/combined\")\n  .then((response) => {\n    if (!response.ok) {\n      throw new Error(\"Network response was not ok\");\n    }\n    return response.json(); // Parse the response body as JSON\n  })\n  .then((data) => {\n    // GENERATES CHILD ELEMENTS FOR POSTS\n    const element = {\n      content: function (source) {\n        const content = document.createElement(\"p\");\n        content.classList.add(\"comment__content\");\n        const message = document.createElement(\"span\");\n        message.innerText = source.content;\n        message.classList.add(\"comment__message\");\n\n        if (source.replyingTo !== undefined) {\n          const replyingTo = document.createElement(\"span\");\n          replyingTo.innerText = `@${source.replyingTo} `;\n          replyingTo.classList.add(\"comment__replyingTo\");\n          content.appendChild(replyingTo);\n        }\n        content.appendChild(message);\n\n        return content;\n      },\n      createdAt: function (source) {\n        const createdAt = document.createElement(\"span\");\n        createdAt.classList.add(\"comment__createdAt\");\n        createdAt.innerText = source.createdAt;\n        return createdAt;\n      },\n      vote: function (source) {\n        const vote = document.createElement(\"form\");\n        vote.classList.add(\"vote\");\n\n        const upvote = document.createElement(\"button\");\n        upvote.classList.add(\"vote__btn\");\n        upvote.classList.add(\"vote__btn--upvote\");\n        vote.appendChild(upvote);\n\n        const plus = document.createElement(\"img\");\n        plus.classList.add(\"vote__img\");\n        plus.classList.add(\"vote__img--plus\");\n        plus.src = \"./images/icon-plus.svg\";\n        upvote.appendChild(plus);\n\n        const score = document.createElement(\"span\");\n        score.classList.add(\"vote__score\");\n        score.innerText = source.score;\n        vote.appendChild(score);\n\n        const downvote = document.createElement(\"button\");\n        downvote.classList.add(\"vote__btn\");\n        downvote.classList.add(\"vote__btn--downvote\");\n        vote.appendChild(downvote);\n\n        const minus = document.createElement(\"img\");\n        minus.classList.add(\"vote__img\");\n        minus.classList.add(\"vote__img--minus\");\n        minus.src = \"./images/icon-minus.svg\";\n        downvote.appendChild(minus);\n\n        return vote;\n      },\n      avatar: function (source) {\n        const avatar = document.createElement(\"img\");\n        avatar.classList.add(\"avatar\");\n        avatar.classList.add(\"avatar--comment\");\n        avatar.src = source.user.image.png;\n        avatar.alt = source.user.username;\n        return avatar;\n      },\n      username: function (source) {\n        const { currentUser } = data[0];\n\n        const username = document.createElement(\"span\");\n        username.classList.add(\"username\");\n\n        if (source.user.username === currentUser.username) {\n          username.classList.add(\"username--you\");\n          const name = document.createElement(\"span\");\n          name.classList.add(\"username__name\");\n          name.innerText = source.user.username;\n          username.appendChild(name);\n\n          const indicator = document.createElement(\"span\");\n          indicator.classList.add(\"username__you\");\n          indicator.innerText = \"you\";\n          username.appendChild(indicator);\n        } else {\n          username.innerText = source.user.username;\n        }\n        return username;\n      },\n      updateForm: function (source) {\n        const updateForm = document.createElement(\"form\");\n        updateForm.classList.add(\"new-comment\");\n        updateForm.classList.add(\"new-comment--update\");\n\n        const updateInput = document.createElement(\"textarea\");\n        updateInput.classList.add(\"new-comment__input\");\n        if (source.replyingTo !== undefined) {\n          updateInput.value = `@${source.replyingTo} ${source.content}`;\n        } else {\n          updateInput.value = `${source.content}`;\n        }\n        updateForm.appendChild(updateInput);\n\n        const updateSend = document.createElement(\"button\");\n        updateSend.classList.add(\"btn\");\n        updateSend.classList.add(\"new-comment__send\");\n        updateSend.classList.add(\"new-comment__send--update\");\n        updateSend.innerText = \"UPDATE\";\n        updateForm.appendChild(updateSend);\n\n        return updateForm;\n      },\n      CRUD: function (source) {\n        const { currentUser } = data[0];\n\n        const CRUD = document.createElement(\"div\");\n        CRUD.classList.add(\"CRUD-container\");\n\n        function createCRUDbtn(type) {\n          const btn = document.createElement(\"button\");\n          btn.classList.add(\"CRUD\");\n          btn.classList.add(`CRUD--${type}`);\n          CRUD.appendChild(btn);\n\n          const btnIcon = document.createElement(\"img\");\n          btnIcon.classList.add(\"CRUD__icon\");\n          btnIcon.classList.add(`CRUD__icon--${type}`);\n          btnIcon.src = `./images/icon-${type}.svg`;\n          btn.appendChild(btnIcon);\n\n          const btnTxt = document.createElement(\"span\");\n          btnTxt.classList.add(\"CRUD__text\");\n          btnTxt.classList.add(`CRUD__text--${type}`);\n          btnTxt.innerText = `${type.charAt(0).toUpperCase()}${type.slice(1)}`;\n          btn.appendChild(btnTxt);\n\n          return btn;\n        }\n        if (source.user.username === currentUser.username) {\n          CRUD.appendChild(createCRUDbtn(\"delete\"));\n          CRUD.appendChild(createCRUDbtn(\"edit\"));\n        } else {\n          CRUD.appendChild(createCRUDbtn(\"reply\"));\n        }\n        return CRUD;\n      },\n    };\n\n    const { comments, currentUser } = data[0];\n    for (let comment in comments) {\n      const container = document.getElementById(\"comment-wrapper\");\n      const post = comments[comment];\n\n      // sets current user's avatar in new comment form\n      const newCommentAvatar = document.querySelector(\".avatar--new-comment\");\n      newCommentAvatar.src = currentUser.image.png;\n\n      // function for generating comments and replies\n      function postCont(type, counter) {\n        const container = document.createElement(\"div\");\n        container.classList.add(\"comment\");\n\n        // sets the type of post (i.e; reply, comment, etc.)\n        let post;\n        if (type === \"reply\") {\n          container.classList.add(\"comment--reply\");\n          post = comments[comment].replies[counter];\n        } else if (type === \"comment\") {\n          post = comments[comment];\n          counter = null;\n        }\n\n        // creates child elements for post\n        const newComment = {\n          avatar: element.avatar(post),\n          username: element.username(post),\n          createdAt: element.createdAt(post),\n          content: element.content(post),\n          updateForm: element.updateForm(post),\n          vote: element.vote(post),\n          CRUD: element.CRUD(post),\n        };\n        for (let ele in newComment) {\n          if (newComment[ele] !== newComment.updateForm) {\n            container.append(newComment[ele]);\n          }\n        }\n        if (currentUser.username === post.user.username) {\n          container.append(newComment.updateForm);\n          container.classList.add(\"comment--you\");\n        }\n\n        // adds other classes if post is reply\n        if (type === \"reply\") {\n          newComment.CRUD.classList.add(\"CRUD-container--reply\");\n        }\n\n        return container;\n      }\n\n      // function for creating reply form\n      function createReplyForm(type) {\n        const replyForm = document.createElement(\"form\");\n        replyForm.classList.add(\"new-comment\");\n        replyForm.classList.add(\"new-comment--reply\");\n\n        // sets extra class if form is for a reply to reply\n        if (type === \"reply\") {\n          replyForm.classList.add(\"new-comment--replytoreply\");\n        } else {\n          type = null;\n        }\n\n        const avatar = document.createElement(\"img\");\n        avatar.classList.add(\"avatar\");\n        avatar.classList.add(\"avatar--new-reply\");\n        avatar.src = currentUser.image.png;\n        avatar.alt = post.user.username;\n        replyForm.appendChild(avatar);\n\n        const replyInput = document.createElement(\"textarea\");\n        replyInput.classList.add(\"new-comment__input\");\n        replyInput.placeholder = \"...Add a reply\";\n        replyForm.appendChild(replyInput);\n\n        const replySend = document.createElement(\"button\");\n        replySend.classList.add(\"btn\");\n        replySend.classList.add(\"new-comment__send\");\n        replySend.innerText = \"REPLY\";\n        replyForm.appendChild(replySend);\n\n        return replyForm;\n      }\n\n      // Generates comments\n      if (post.replies.length > 0) {\n        container.appendChild(postCont(\"comment\"));\n\n        // Creates container for replies\n        const replyCont = document.createElement(\"div\");\n        replyCont.classList.add(\"reply-wrapper\");\n        const hr = document.createElement(\"hr\");\n        hr.classList.add(\"reply-wrapper__ruler\");\n        replyCont.appendChild(hr);\n        container.appendChild(replyCont);\n\n        // Generates replies\n        for (let reply in post.replies) {\n          replyCont.appendChild(postCont(\"reply\", reply));\n          if (post.replies[reply].user.username !== currentUser.username) {\n            replyCont.appendChild(createReplyForm(\"reply\"));\n          }\n        }\n\n        // Generates hr hight for reply container\n        replyCont.style.gridTemplateRows = `repeat(${replyCont.childElementCount}, auto)`;\n\n        // Generates reply forms\n        if (post.user.username !== currentUser.username) {\n          container.appendChild(createReplyForm());\n        }\n      } else {\n        container.appendChild(postCont(\"comment\"));\n        if (post.user.username !== currentUser.username) {\n          container.appendChild(createReplyForm());\n        }\n      }\n    }\n\n    // CONTAINERS\n\n    // CONTAINERS - DOM SELECTORS\n    const selectors = {\n      reply: \".comment--reply:not(.comment--you)\",\n      comment: \".comment:not(.comment--you):not(.comment--reply)\",\n      form: {\n        comment:\n          \".new-comment:not(.new-comment--reply):not(.new-comment--update)\",\n        reply: \".new-comment--reply:not(.new-comment--replytoreply)\",\n        replyToReply: \".new-comment--replytoreply\",\n        update: \".new-comment--update\",\n      },\n      btn: {\n        reply: \".CRUD-container:not(.CRUD-container--reply) > .CRUD--reply\",\n        replyToReply: \".CRUD-container--reply > .CRUD--reply\",\n        deleteComment: \"modal__btn-box--delete\",\n      },\n      input: {\n        comment:\n          \".new-comment:not(.new-comment--reply):not(.new-comment--update) > .new-comment__input\",\n        reply:\n          \".new-comment--reply:not(.new-comment--replytoreply)> .new-comment__input\",\n        replyToReply: \".new-comment--replytoreply> .new-comment__input\",\n        replyTo: \".comment:not(.comment--reply) > .username\",\n        replyReplyTo: \".comment--reply:not(.comment--replytoreply) > .username\",\n        update: \".new-comment--update > .new-comment__input\",\n      },\n    };\n\n    // CONTAINERS - ELEMENTS\n    const container = {\n      replies: document.querySelectorAll(selectors.reply),\n      comments: document.querySelectorAll(selectors.comment),\n      userComments: document.getElementsByClassName(\"comment--you\"),\n      modal: document.getElementsByClassName(\"modal__btn-box--cancel\")[0],\n      btn: {\n        deleteComment: document.getElementsByClassName(\n          \"modal__btn-box--delete\"\n        )[0],\n      },\n      form: {\n        comment: document.querySelector(selectors.form.comment),\n        reply: document.querySelectorAll(selectors.form.reply),\n        replyToReply: document.querySelectorAll(selectors.form.replyToReply),\n        update: document.querySelectorAll(selectors.form.update),\n      },\n      input: {\n        replyTo: document.querySelectorAll(selectors.input.replyTo),\n        replyReplyTo: document.querySelectorAll(selectors.input.replyReplyTo),\n        replyContent: document.querySelectorAll(selectors.input.reply),\n        replyToReplyContent: document.querySelectorAll(\n          selectors.input.replyToReply\n        ),\n        update: document.querySelectorAll(selectors.input.update),\n      },\n    };\n\n    // CONTAINERS - CRUD BUTTONS\n    const CRUD = {\n      edit: document.getElementsByClassName(\"CRUD--edit\"),\n      delete: document.getElementsByClassName(\"CRUD--delete\"),\n      reply: document.getElementsByClassName(\"CRUD--reply\"),\n    };\n\n    // METHODS\n\n    // METHODS - HTTP REQUESTS\n    const httpRequest = {\n      delete: function (content) {\n        for (let x in comments) {\n          if (content === comments[x].content) {\n            delete comments[x];\n          } else {\n            for (let y in comments[x].replies) {\n              if (content === comments[x].replies[y].content) {\n                delete comments[x].replies[y];\n              }\n            }\n          }\n        }\n      },\n      update: function (oldContent, newContent) {\n        for (let x in comments) {\n          if (comments[x].content === oldContent.innerText) {\n            comments[x].content = newContent;\n          } else {\n            for (let y in comments[x].replies) {\n              if (comments[x].replies[y].content === oldContent.innerText) {\n                comments[x].replies[y].content = newContent;\n              }\n            }\n          }\n        }\n      },\n      vote: function (scoreContianer, mode) {\n        const postContainer = scoreContianer.parentElement.parentElement;\n        let content;\n        let change;\n        let score = scoreContianer.innerText;\n        mode === \"upvote\" ? (change = score++) : (change = score--);\n        if (postContainer.childNodes[3].childNodes[1]) {\n          content = postContainer.childNodes[3].childNodes[1];\n        } else {\n          content = postContainer.childNodes[3];\n        }\n        for (let x in comments) {\n          if (comments[x].content === content) {\n            comments[x].score = change;\n          } else {\n            for (let y in comments[x].replies[y]) {\n              const reply = comments[x].replies[y];\n              if ((reply.content = content)) {\n                reply.score = change;\n              }\n            }\n          }\n        }\n      },\n    };\n\n    // METHODS - BUTTON TOGGLES\n    const toggles = {\n      comments: data[0].comments,\n      edit: function (container) {\n        if (!container.classList.contains(\"comment--edit\")) {\n          container.classList.add(\"comment--edit\");\n        } else {\n          container.classList.remove(\"comment--edit\");\n        }\n      },\n      reply: function (container) {\n        if (container.style.display === \"\") {\n          container.style.display = \"grid\";\n        } else {\n          container.style.display = \"\";\n        }\n      },\n      delete: function (container) {\n        if (\n          container.style.display === \"none\" ||\n          container.style.display === \"\"\n        ) {\n          container.style.display = \"flex\";\n        }\n      },\n    };\n\n    // TOGGLES\n\n    // TOGGLES - EDIT MODE\n    for (let x = 0; x < container.userComments.length; x++) {\n      const comment = container.userComments[x];\n      const editBtn = CRUD.edit[x];\n\n      editBtn.addEventListener(\"click\", () => {\n        toggles.edit(comment);\n      });\n    }\n\n    // TOGGLES - COMMENT REPLY\n    for (let x = 0; x < container.comments.length; x++) {\n      const replyForm = document.querySelectorAll(selectors.form.reply)[x];\n      const replyBtn = document.querySelectorAll(selectors.btn.reply)[x];\n\n      replyBtn.addEventListener(\"click\", () => {\n        toggles.reply(replyForm);\n      });\n    }\n\n    // TOGGLES - REPLY TO REPLY\n    for (let x = 0; x < container.replies.length; x++) {\n      const replyForm = document.querySelectorAll(selectors.form.replyToReply)[\n        x\n      ];\n      const replyBtn = document.querySelectorAll(selectors.btn.replyToReply)[x];\n\n      replyBtn.addEventListener(\"click\", () => {\n        toggles.reply(replyForm);\n      });\n    }\n\n    // TOGGLES - OPEN DELETE MODAL\n    for (let x = 0; x < CRUD.delete.length; x++) {\n      const deleteBtn = CRUD.delete[x];\n      const deleteModal = document.getElementsByClassName(\"modal\")[0];\n\n      deleteBtn.addEventListener(\"click\", () => {\n        toggles.delete(deleteModal);\n      });\n    }\n\n    // TOGGLES - CLOSE DELETE MODAL\n    container.modal.addEventListener(\"click\", () => {\n      const deleteModal = document.getElementsByClassName(\"modal\")[0];\n      if (deleteModal.style.display === \"flex\") {\n        deleteModal.style.display = \"none\";\n      }\n    });\n\n    // CRUD\n\n    // CRUD - FUNCTIONS\n\n    // CRUD - FUNCTIONS - GET REPLY COUNT\n    function replyCount(no, type) {\n      let replyCont;\n      if (type === \"reply\") {\n        replyCont = container.form.reply[no].previousElementSibling;\n      } else if (type === \"replytoreply\") {\n        replyCont = container.form.replyToReply[no].parentElement;\n      }\n      return replyCont.childElementCount;\n    }\n\n    // CRUD - FUNCTIONS - GENERATE ID\n    function generateID() {\n      const { comments } = data[0];\n\n      let IDarray = [];\n      for (let id in comments) {\n        IDarray.push(comments[id].id);\n        if (comments[id].replies.length > 0) {\n          for (let reply in comments[id].replies)\n            IDarray.push(comments[id].replies[reply].id);\n        }\n      }\n      const ID = Math.max(...IDarray) + 1;\n      return ID;\n    }\n\n    // CRUD - FUNCTIONS - ADD FUNCTIONALITY\n    function addFunctionality(postContainer) {\n      // Adds edit form toggle to new post\n      const editBtn = postContainer.childNodes[5].childNodes[1];\n      editBtn.addEventListener(\"click\", () => {\n        toggles.edit(postContainer);\n      });\n\n      // Adds delete modal toggle to new post\n      const deleteBtn = postContainer.childNodes[5].childNodes[0];\n      const deleteModal = document.getElementsByClassName(\"modal\")[0];\n      deleteBtn.addEventListener(\"click\", () => {\n        toggles.delete(deleteModal);\n      });\n\n      // Adds edit functionality to new post\n      const editForm = postContainer.childNodes[6];\n      editForm.addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n\n        const newContent = editForm.childNodes[0].value;\n\n        // Sets post content\n        let oldContent;\n        if (editForm.parentElement.childNodes[3].childNodes[1]) {\n          oldContent = editForm.parentElement.childNodes[3].childNodes[1];\n        } else {\n          oldContent = editForm.parentElement.childNodes[3].childNodes[0];\n        }\n\n        // Updates post in DOM\n        oldContent.innerText = newContent;\n\n        // Updates post in data\n        httpRequest.update(oldContent, newContent);\n      });\n\n      // Adds delete functionality to new post\n      const deleteComment = container.btn.deleteComment;\n      deleteComment.addEventListener(\"click\", () => {\n        const comment = document.getElementsByClassName(\"comment\");\n\n        // Deletes post in DOM\n        for (let x in comment) {\n          if (postContainer === comment[x]) {\n            comment[x].remove();\n          }\n        }\n\n        // Sets post content\n        const chosen = deleteBtn.parentElement.parentElement;\n        let content;\n        if (chosen.childNodes[3].childNodes[1]) {\n          content = chosen.childNodes[3].childNodes[1].innerText;\n        } else {\n          content = chosen.childNodes[3].childNodes[0].innerText;\n        }\n\n        // Deletes post in data\n        httpRequest.delete(content);\n      });\n\n      // VOTE\n      // VOTE - UPVOTE\n      const upvote = postContainer.childNodes[4].childNodes[0];\n      console.log(upvote);\n      upvote.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n\n        // Changes score in DOM\n        const scoreContianer = upvote.parentElement.childNodes[1];\n        let score = scoreContianer.innerText;\n        score++;\n        scoreContianer.innerText = score;\n\n        // Changes score in data\n        httpRequest.vote(scoreContianer, \"upvote\");\n      });\n\n      // VOTE -DOWNVOTE\n      const downvote = postContainer.childNodes[4].childNodes[2];\n      downvote.addEventListener(\"click\", (e) => {\n        e.preventDefault();\n\n        // Changes score in DOM\n        const scoreContianer = downvote.parentElement.childNodes[1];\n        let score = scoreContianer.innerText;\n        score--;\n        scoreContianer.innerText = score;\n\n        // Changes score in data\n        httpRequest.vote(scoreContianer, \"downvote\");\n      });\n    }\n\n    // CRUD - FUNCTIONS - NEW POST\n    function newPost(type, source) {\n      const { currentUser } = data[0];\n\n      const postContainer = document.createElement(\"div\");\n      postContainer.classList.add(\"comment\");\n\n      // adds extra classes if post isn't a comment\n      if (type === \"reply\") {\n        postContainer.classList.add(\"comment--reply\");\n      } else if (type === \"replytoreply\") {\n        postContainer.classList.add(\"comment--reply\");\n        postContainer.classList.add(\"comment--replytoreply\");\n      }\n      postContainer.classList.add(\"comment--you\");\n\n      // generates child elements for new post\n      const newComment = {\n        avatar: element.avatar(source),\n        username: element.username(source),\n        createdAt: element.createdAt(source),\n        content: element.content(source),\n        updateForm: element.updateForm(source),\n        vote: element.vote(source),\n        CRUD: element.CRUD(source),\n      };\n      for (let ele in newComment) {\n        if (newComment[ele] !== newComment.updateForm) {\n          postContainer.append(newComment[ele]);\n        }\n      }\n      if (currentUser.username === source.user.username) {\n        postContainer.append(newComment.updateForm);\n      }\n\n      // adds reply class to crud container\n      if (type === \"reply\") {\n        newComment.CRUD.classList.add(\"CRUD-container--reply\");\n      }\n\n      // adds CRUD funtionality to new post\n      addFunctionality(postContainer);\n\n      return postContainer;\n    }\n\n    // CRUD - DOM MANIPULATION\n    // CRUD - DOM MANIPULATION - NEW COMMENT\n    container.form.comment.addEventListener(\"submit\", (e) => {\n      e.preventDefault();\n\n      const { comments, currentUser } = data[0];\n      const content = document.querySelector(selectors.input.comment).value;\n\n      const newComment = {\n        content: content,\n        createdAt: \"TEST\",\n        id: generateID(),\n        replies: {},\n        score: 0,\n        user: {\n          image: {\n            png: currentUser.image.png,\n            webp: currentUser.image.webp,\n          },\n          username: currentUser.username,\n        },\n      };\n\n      // Adds comment in data\n      comments[newComment.id] = newComment;\n\n      // Adds comment in DOM\n      const wrapper = document.getElementById(\"comment-wrapper\");\n      wrapper.appendChild(newPost(\"comment\", newComment));\n    });\n\n    // CRUD - DOM MANIPULATION - NEW REPLY\n    for (let x = 0; x < container.form.reply.length; x++) {\n      container.form.reply[x].addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n\n        const { comments, currentUser } = data[0];\n        const replyTo = container.input.replyTo[x].innerText;\n        const content = container.input.replyContent[x].value;\n\n        const newReply = {\n          id: generateID(),\n          content: content,\n          createdAt: \"TEST\",\n          replyingTo: replyTo,\n          replies: {},\n          score: 0,\n          user: {\n            image: {\n              png: currentUser.image.png,\n              webp: currentUser.image.webp,\n            },\n            username: currentUser.username,\n          },\n        };\n\n        if (comments[x].replies.length === 0) {\n          // Creates container for replies\n          const replyCont = document.createElement(\"div\");\n          replyCont.classList.add(\"reply-wrapper\");\n          const hr = document.createElement(\"hr\");\n          hr.classList.add(\"reply-wrapper__ruler\");\n          replyCont.appendChild(hr);\n          container.comments[x].insertAdjacentElement(\"afterend\", replyCont);\n\n          // Adds reply in data\n          comments[x].replies[newReply.id] = newReply;\n\n          // Adds reply in DOM\n          replyCont.appendChild(newPost(\"reply\", newReply));\n\n          // Generates hr height for reply container\n          replyCont.style.gridTemplateRows = `repeat(${replyCount(\n            x,\n            \"reply\"\n          )}, auto)`;\n        } else {\n          comments[x].replies[newReply.id] = newReply;\n\n          const replyWrapper = container.form.reply[x].previousElementSibling;\n          replyWrapper.appendChild(newPost(\"reply\", newReply));\n\n          // Generates hr height for reply container\n          replyWrapper.style.gridTemplateRows = `repeat(${replyCount(\n            x,\n            \"reply\"\n          )}, auto)`;\n        }\n      });\n    }\n\n    //  CRUD - DOM MANIPULATION - NEW REPLY TO REPLY\n    for (let x = 0; x < container.form.replyToReply.length; x++) {\n      container.form.replyToReply[x].addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n\n        const { comments, currentUser } = data[0];\n        const replyTo = container.input.replyReplyTo[x].innerText;\n        const content = container.input.replyToReplyContent[x].value;\n\n        const newReply = {\n          id: generateID(),\n          content: content,\n          createdAt: \"TEST\",\n          replyingTo: replyTo,\n          replies: {},\n          score: 0,\n          user: {\n            image: {\n              png: currentUser.image.png,\n              webp: currentUser.image.webp,\n            },\n            username: currentUser.username,\n          },\n        };\n\n        // Adds replytoreply in DOM\n        const replyWrapper = container.form.replyToReply[x].parentNode;\n        replyWrapper.appendChild(newPost(\"replytoreply\", newReply));\n\n        // Generates hr height for reply container\n        replyWrapper.style.gridTemplateRows = `repeat(${replyCount(\n          x,\n          \"replytoreply\"\n        )}, auto)`;\n\n        // Adds replytoreply in data\n        const parentComment =\n          replyWrapper.previousSibling.childNodes[3].childNodes[0].innerText;\n        for (let x in comments) {\n          if (comments[x].content === parentComment) {\n            const replies = comments[x].replies;\n            replies[replies.length] = newReply;\n          }\n        }\n      });\n    }\n\n    // CRUD - DOM MANIPULATION - UPDATE\n    for (let x = 0; x < container.form.update.length; x++) {\n      container.form.update[x].addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n\n        // Sets post content\n        let oldContent;\n        if (\n          container.input.update[x].parentElement.parentElement.childNodes[3]\n            .childNodes[1]\n        ) {\n          oldContent =\n            container.input.update[x].parentElement.parentElement.childNodes[3]\n              .childNodes[1];\n        } else {\n          oldContent =\n            container.input.update[x].parentElement.parentElement.childNodes[3]\n              .childNodes[0];\n        }\n\n        // Stores new text for content\n        const newContent = container.input.update[x].value;\n\n        // Updates post in data\n        httpRequest.update(oldContent, newContent);\n\n        // Updates post in DOM\n        oldContent.innerText = newContent;\n      });\n    }\n\n    // CRUD - DOM MANIPULATION - DELETE\n    for (let x = 0; x < CRUD.delete.length; x++) {\n      const deleteBtn = CRUD.delete[x];\n      const deleteComment = container.btn.deleteComment;\n\n      deleteBtn.addEventListener(\"click\", () => {\n        const chosen = deleteBtn.parentElement.parentElement;\n\n        // Sets post content\n        let content;\n        if (chosen.childNodes[3].childNodes[1]) {\n          content = chosen.childNodes[3].childNodes[1].innerText;\n        } else {\n          content = chosen.childNodes[3].childNodes[0].innerText;\n        }\n\n        // Adds delete functionality\n        deleteComment.addEventListener(\"click\", () => {\n          const comment = document.getElementsByClassName(\"comment\");\n\n          // Deletes post in DOM\n          for (let x in comment) {\n            if (chosen === comment[x]) {\n              comment[x].remove();\n            }\n          }\n\n          // Deletes post in data\n          httpRequest.delete(content);\n        });\n      });\n    }\n\n    // VOTE\n    // VOTE - FUNCTION\n    function vote(mode) {\n      const vote = document.getElementsByClassName(`vote__btn--${mode}`);\n      for (let x = 0; x < vote.length; x++) {\n        vote[x].addEventListener(\"click\", (e) => {\n          e.preventDefault();\n\n          // Changes score in DOM\n          const scoreContianer = vote[x].parentElement.childNodes[1];\n          let score = scoreContianer.innerText;\n          mode === \"upvote\" ? score++ : score--;\n          scoreContianer.innerText = score;\n\n          // Changes score in data\n          mode === \"upvote\"\n            ? httpRequest.vote(scoreContianer, \"upvote\")\n            : httpRequest.vote(scoreContianer, \"downvote\");\n        });\n      }\n    }\n\n    // VOTE - UPVOTE\n    vote(\"upvote\");\n\n    // VOTE -DOWNVOTE\n    vote(\"downvote\");\n  })\n  .catch((error) => {\n    // Handle any errors that occurred during the fetch\n    console.error(\"There was a problem with the fetch operation:\", error);\n  });\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}
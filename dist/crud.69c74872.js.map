{"version":3,"sources":["js/crud.js"],"names":["toggles","comments","data","edit","container","classList","contains","add","remove","reply","style","display","delete","_delete","CRUDFunction","source","chosen","content","deleteBtn","childNodes","deleteModal","document","getElementsByClassName","deleteComment","addEventListener","innerText","comment","id","x","y","replies","undefined","i","length","splice","httpRequest"],"mappings":"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","file":"crud.69c74872.js","sourceRoot":"..\\src","sourcesContent":[" const toggles = {\n  comments: data.comments,\n  edit: function (container) {\n    if (!container.classList.contains(\"comment--edit\")) {\n      container.classList.add(\"comment--edit\");\n    } else {\n      container.classList.remove(\"comment--edit\");\n    }\n  },\n  reply: function (container) {\n    if (container.style.display === \"\") {\n      container.style.display = \"grid\";\n    } else {\n      container.style.display = \"\";\n    }\n  },\n  delete: function (container) {\n    if (\n      container.style.display === \"none\" ||\n      container.style.display === \"\"\n    ) {\n      container.style.display = \"flex\";\n    }\n  },\n};\n\n const CRUDFunction = {\n    delete: function (source) {\n      let chosen;\n      let content;\n      const deleteBtn = source.childNodes[5].childNodes[0];\n      const deleteModal = document.getElementsByClassName(\"modal\")[0];\n      const deleteComment = document.getElementsByClassName(\n        \"modal__btn-box--delete\"\n      )[0];\n\n      deleteBtn.addEventListener(\"click\", () => {\n        toggles.delete(deleteModal);\n\n        chosen = source.childNodes[3];\n        // Sets post content\n        if (chosen.childNodes[1]) {\n          content = chosen.childNodes[1].innerText;\n        } else {\n          content = chosen.childNodes[0].innerText;\n        }\n      });\n\n      deleteComment.addEventListener(\"click\", () => {\n        const comment = document.getElementsByClassName(\"comment\");\n\n        let id;\n        for (let x in comments) {\n          if (content === comments[x].content) {\n            id = comments[x].id;\n            break;\n          } else {\n            for (let y in comments[x].replies) {\n              if (content === comments[x].replies[y].content) {\n                id = comments[x].replies[y].id;\n                break;\n              }\n            }\n          }\n        }\n\n        // Deletes post in data\n        if (id !== undefined) {\n          // Deletes post in DOM\n          for (let x in comment) {\n            if (source === comment[x]) {\n              comment[x].remove();\n              break;\n            }\n          }\n\n          for (let i = 0; i < comments.length; i++) {\n            if (comments[i].id === id) {\n              comments.splice(i, 1); // Remove the object at index i\n              break; // Stop searching after removal\n            }\n          }\n\n          httpRequest.delete(id);\n        }\n      });\n    },\n  };"]}
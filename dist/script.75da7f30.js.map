{"version":3,"sources":["script.js"],"names":["_regeneratorRuntime","exports","Op","Object","prototype","hasOwn","hasOwnProperty","defineProperty","obj","key","desc","value","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","_typeof","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","return","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","_catch","thrown","delegateYield","_defineProperty","_toPropertyKey","_toPrimitive","String","input","hint","prim","toPrimitive","res","Number","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","o","minLen","_arrayLikeToArray","n","toString","Array","from","test","len","arr2","_i","_s","_e","_x","_r","_arr","_n","_d","isArray","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","fetchData","_fetchData","_callee2","urlMap","promises","results","combinedResults","_callee2$","_context2","comments","currentUser","entries","map","_ref2","_callee","_ref","_ref3","url","response","_callee$","_context","fetch","ok","concat","t0","t1","t2","json","t3","_x9","all","reduce","acc","_objectSpread","console","data","element","content","source","document","createElement","classList","add","message","innerText","replyingTo","appendChild","createdAt","vote","upvote","plus","src","score","downvote","minus","avatar","user","image","png","alt","username","indicator","updateForm","updateInput","updateSend","CRUD","createCRUDbtn","btn","btnIcon","btnTxt","toUpperCase","CRUDFunction","delete","_delete","chosen","deleteBtn","childNodes","deleteModal","getElementsByClassName","deleteComment","addEventListener","toggles","comment","id","x","y","replies","log","remove","splice","httpRequest","_loop","container","getElementById","post","newCommentAvatar","querySelector","postCont","counter","newComment","ele","append","createReplyForm","replyForm","replyInput","placeholder","replySend","replyCont","hr","reply","style","gridTemplateRows","childElementCount","selectors","form","replyToReply","update","replyTo","replyReplyTo","querySelectorAll","userComments","modal","replyContent","replyToReplyContent","edit","oldContent","newContent","scoreContianer","mode","postContainer","parentElement","change","postData","params","headers","body","JSON","stringify","options","contains","display","_loop2","editBtn","_loop3","replyBtn","_loop4","replyCount","no","previousElementSibling","generateID","IDarray","ID","Math","max","newPost","e","preventDefault","webp","wrapper","_loop5","_x4","newReply","insertAdjacentElement","replyWrapper","_loop6","_x5","parentNode","parentComment","previousSibling","_loop7","_x6","_loop8","_x7"],"mappings":"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","file":"script.75da7f30.js","sourceRoot":"..\\src","sourcesContent":["async function fetchData() {\n  try {\n    // Define an object with key-value pairs where keys represent labels and values are URLs\n    const urlMap = {\n      comments: \"http://localhost:3000/comments\",\n      currentUser: \"http://localhost:3000/currentUser\",\n    };\n\n    // Create an array of Promises for fetch requests using Object.entries()\n    const promises = Object.entries(urlMap).map(async ([key, url]) => {\n      const response = await fetch(url);\n      if (!response.ok) {\n        throw new Error(`Request for ${url} failed`);\n      }\n      return { [key]: await response.json() }; // Store the result with a key\n    });\n\n    // Use Promise.all() to wait for all Promises to resolve\n    const results = await Promise.all(promises);\n\n    // Combine the results into a single object\n    const combinedResults = results.reduce((acc, result) => {\n      return { ...acc, ...result };\n    }, {});\n\n    return combinedResults;\n  } catch (error) {\n    console.error(\"Error:\", error);\n  }\n}\n\n// GENERATES COMMENTS\nfetchData()\n  .then((data) => {\n    const { comments, currentUser } = data;\n\n    // GENERATES CHILD ELEMENTS FOR POSTS\n    const element = {\n      content: function (source) {\n        const content = document.createElement(\"p\");\n        content.classList.add(\"comment__content\");\n        const message = document.createElement(\"span\");\n        message.innerText = source.content;\n        message.classList.add(\"comment__message\");\n\n        if (source.replyingTo !== undefined) {\n          const replyingTo = document.createElement(\"span\");\n          replyingTo.innerText = `@${source.replyingTo} `;\n          replyingTo.classList.add(\"comment__replyingTo\");\n          content.appendChild(replyingTo);\n        }\n        content.appendChild(message);\n\n        return content;\n      },\n      createdAt: function (source) {\n        const createdAt = document.createElement(\"span\");\n        createdAt.classList.add(\"comment__createdAt\");\n        createdAt.innerText = source.createdAt;\n        return createdAt;\n      },\n      vote: function (source) {\n        const vote = document.createElement(\"form\");\n        vote.classList.add(\"vote\");\n\n        const upvote = document.createElement(\"button\");\n        upvote.classList.add(\"vote__btn\");\n        upvote.classList.add(\"vote__btn--upvote\");\n        vote.appendChild(upvote);\n\n        const plus = document.createElement(\"img\");\n        plus.classList.add(\"vote__img\");\n        plus.classList.add(\"vote__img--plus\");\n        plus.src = \"./images/icon-plus.svg\";\n        upvote.appendChild(plus);\n\n        const score = document.createElement(\"span\");\n        score.classList.add(\"vote__score\");\n        score.innerText = source.score;\n        vote.appendChild(score);\n\n        const downvote = document.createElement(\"button\");\n        downvote.classList.add(\"vote__btn\");\n        downvote.classList.add(\"vote__btn--downvote\");\n        vote.appendChild(downvote);\n\n        const minus = document.createElement(\"img\");\n        minus.classList.add(\"vote__img\");\n        minus.classList.add(\"vote__img--minus\");\n        minus.src = \"./images/icon-minus.svg\";\n        downvote.appendChild(minus);\n\n        return vote;\n      },\n      avatar: function (source) {\n        const avatar = document.createElement(\"img\");\n        avatar.classList.add(\"avatar\");\n        avatar.classList.add(\"avatar--comment\");\n        avatar.src = source.user.image.png;\n        avatar.alt = source.user.username;\n        return avatar;\n      },\n      username: function (source) {\n        const { currentUser } = data;\n\n        const username = document.createElement(\"span\");\n        username.classList.add(\"username\");\n\n        if (source.user.username === currentUser[0].username) {\n          username.classList.add(\"username--you\");\n          const name = document.createElement(\"span\");\n          name.classList.add(\"username__name\");\n          name.innerText = source.user.username;\n          username.appendChild(name);\n\n          const indicator = document.createElement(\"span\");\n          indicator.classList.add(\"username__you\");\n          indicator.innerText = \"you\";\n          username.appendChild(indicator);\n        } else {\n          username.innerText = source.user.username;\n        }\n        return username;\n      },\n      updateForm: function (source) {\n        const updateForm = document.createElement(\"form\");\n        updateForm.classList.add(\"new-comment\");\n        updateForm.classList.add(\"new-comment--update\");\n\n        const updateInput = document.createElement(\"textarea\");\n        updateInput.classList.add(\"new-comment__input\");\n        if (source.replyingTo !== undefined) {\n          updateInput.value = `@${source.replyingTo} ${source.content}`;\n        } else {\n          updateInput.value = `${source.content}`;\n        }\n        updateForm.appendChild(updateInput);\n\n        const updateSend = document.createElement(\"button\");\n        updateSend.classList.add(\"btn\");\n        updateSend.classList.add(\"new-comment__send\");\n        updateSend.classList.add(\"new-comment__send--update\");\n        updateSend.innerText = \"UPDATE\";\n        updateForm.appendChild(updateSend);\n\n        return updateForm;\n      },\n      CRUD: function (source) {\n        const { currentUser } = data;\n\n        const CRUD = document.createElement(\"div\");\n        CRUD.classList.add(\"CRUD-container\");\n\n        function createCRUDbtn(type) {\n          const btn = document.createElement(\"button\");\n          btn.classList.add(\"CRUD\");\n          btn.classList.add(`CRUD--${type}`);\n          CRUD.appendChild(btn);\n\n          const btnIcon = document.createElement(\"img\");\n          btnIcon.classList.add(\"CRUD__icon\");\n          btnIcon.classList.add(`CRUD__icon--${type}`);\n          btnIcon.src = `./images/icon-${type}.svg`;\n          btn.appendChild(btnIcon);\n\n          const btnTxt = document.createElement(\"span\");\n          btnTxt.classList.add(\"CRUD__text\");\n          btnTxt.classList.add(`CRUD__text--${type}`);\n          btnTxt.innerText = `${type.charAt(0).toUpperCase()}${type.slice(1)}`;\n          btn.appendChild(btnTxt);\n\n          return btn;\n        }\n        if (source.user.username === currentUser[0].username) {\n          CRUD.appendChild(createCRUDbtn(\"delete\"));\n          CRUD.appendChild(createCRUDbtn(\"edit\"));\n        } else {\n          CRUD.appendChild(createCRUDbtn(\"reply\"));\n        }\n        return CRUD;\n      },\n    };\n\n    // STORES CRUD FUNCTIONALITY\n    const CRUDFunction = {\n      delete: function (source) {\n        let chosen;\n        let content;\n        const deleteBtn = source.childNodes[5].childNodes[0];\n        const deleteModal = document.getElementsByClassName(\"modal\")[0];\n        const deleteComment = document.getElementsByClassName(\n          \"modal__btn-box--delete\"\n        )[0];\n\n        deleteBtn.addEventListener(\"click\", () => {\n          toggles.delete(deleteModal);\n\n          chosen = source.childNodes[3];\n          // Sets post content\n          if (chosen.childNodes[1]) {\n            content = chosen.childNodes[1].innerText;\n          } else {\n            content = chosen.childNodes[0].innerText;\n          }\n        });\n\n        deleteComment.addEventListener(\"click\", () => {\n          const comment = document.getElementsByClassName(\"comment\");\n\n          let id;\n          for (let x in comments) {\n            if (content === comments[x].content) {\n              id = comments[x].id;\n              break;\n            } else {\n              for (let y in comments[x].replies) {\n                if (content === comments[x].replies[y].content) {\n                  id = comments[x].replies[y].id;\n                  break;\n                }\n              }\n            }\n          }\n          console.log(id);\n\n          // Deletes post in data\n          if (id !== undefined) {\n            // Deletes post in DOM\n            for (let x in comment) {\n              if (source === comment[x]) {\n                comment[x].remove();\n                break;\n              }\n            }\n\n            for (let i = 0; i < comments.length; i++) {\n              if (comments[i].id === id) {\n                comments.splice(i, 1); // Remove the object at index i\n                break; // Stop searching after removal\n              }\n            }\n\n            httpRequest.delete(id);\n          }\n        });\n      },\n    };\n\n    // const { comments, currentUser } = data;\n    for (let comment in comments) {\n      const container = document.getElementById(\"comment-wrapper\");\n      const post = comments[comment];\n\n      // sets current user's avatar in new comment form\n      const newCommentAvatar = document.querySelector(\".avatar--new-comment\");\n      newCommentAvatar.src = currentUser[0].image.png;\n\n      // function for generating comments and replies\n      function postCont(type, counter) {\n        const container = document.createElement(\"div\");\n        container.classList.add(\"comment\");\n\n        // sets the type of post (i.e; reply, comment, etc.)\n        let post;\n        if (type === \"reply\") {\n          container.classList.add(\"comment--reply\");\n          post = comments[comment].replies[counter];\n        } else if (type === \"comment\") {\n          post = comments[comment];\n          counter = null;\n        }\n\n        // creates child elements for post\n        const newComment = {\n          avatar: element.avatar(post),\n          username: element.username(post),\n          createdAt: element.createdAt(post),\n          content: element.content(post),\n          updateForm: element.updateForm(post),\n          vote: element.vote(post),\n          CRUD: element.CRUD(post),\n        };\n        for (let ele in newComment) {\n          if (newComment[ele] !== newComment.updateForm) {\n            container.append(newComment[ele]);\n          }\n        }\n        if (currentUser[0].username === post.user.username) {\n          container.append(newComment.updateForm);\n          container.classList.add(\"comment--you\");\n        }\n\n        // adds other classes if post is reply\n        if (type === \"reply\") {\n          newComment.CRUD.classList.add(\"CRUD-container--reply\");\n        }\n\n        // Adds CRUD functionality\n        CRUDFunction.delete(container);\n\n        return container;\n      }\n\n      // function for creating reply form\n      function createReplyForm(type) {\n        const replyForm = document.createElement(\"form\");\n        replyForm.classList.add(\"new-comment\");\n        replyForm.classList.add(\"new-comment--reply\");\n\n        // sets extra class if form is for a reply to reply\n        if (type === \"reply\") {\n          replyForm.classList.add(\"new-comment--replytoreply\");\n        } else {\n          type = null;\n        }\n\n        const avatar = document.createElement(\"img\");\n        avatar.classList.add(\"avatar\");\n        avatar.classList.add(\"avatar--new-reply\");\n        avatar.src = currentUser[0].image.png;\n        avatar.alt = post.user.username;\n        replyForm.appendChild(avatar);\n\n        const replyInput = document.createElement(\"textarea\");\n        replyInput.classList.add(\"new-comment__input\");\n        replyInput.placeholder = \"...Add a reply\";\n        replyForm.appendChild(replyInput);\n\n        const replySend = document.createElement(\"button\");\n        replySend.classList.add(\"btn\");\n        replySend.classList.add(\"new-comment__send\");\n        replySend.innerText = \"REPLY\";\n        replyForm.appendChild(replySend);\n\n        return replyForm;\n      }\n\n      // Generates comments\n      if (post.replies.length > 0) {\n        container.appendChild(postCont(\"comment\"));\n\n        // Creates container for replies\n        const replyCont = document.createElement(\"div\");\n        replyCont.classList.add(\"reply-wrapper\");\n        const hr = document.createElement(\"hr\");\n        hr.classList.add(\"reply-wrapper__ruler\");\n        replyCont.appendChild(hr);\n        container.appendChild(replyCont);\n\n        // Generates replies\n        for (let reply in post.replies) {\n          replyCont.appendChild(postCont(\"reply\", reply));\n          if (post.replies[reply].user.username !== currentUser[0].username) {\n            replyCont.appendChild(createReplyForm(\"reply\"));\n          }\n        }\n\n        // Generates hr hight for reply container\n        replyCont.style.gridTemplateRows = `repeat(${replyCont.childElementCount}, auto)`;\n\n        // Generates reply forms\n        if (post.user.username !== currentUser[0].username) {\n          container.appendChild(createReplyForm());\n        }\n      } else {\n        container.appendChild(postCont(\"comment\"));\n        if (post.user.username !== currentUser[0].username) {\n          container.appendChild(createReplyForm());\n        }\n      }\n    }\n\n    // CONTAINERS\n\n    // CONTAINERS - DOM SELECTORS\n    const selectors = {\n      reply: \".comment--reply:not(.comment--you)\",\n      comment: \".comment:not(.comment--you):not(.comment--reply)\",\n      form: {\n        comment:\n          \".new-comment:not(.new-comment--reply):not(.new-comment--update)\",\n        reply: \".new-comment--reply:not(.new-comment--replytoreply)\",\n        replyToReply: \".new-comment--replytoreply\",\n        update: \".new-comment--update\",\n      },\n      btn: {\n        reply: \".CRUD-container:not(.CRUD-container--reply) > .CRUD--reply\",\n        replyToReply: \".CRUD-container--reply > .CRUD--reply\",\n        deleteComment: \"modal__btn-box--delete\",\n      },\n      input: {\n        comment:\n          \".new-comment:not(.new-comment--reply):not(.new-comment--update) > .new-comment__input\",\n        reply:\n          \".new-comment--reply:not(.new-comment--replytoreply)> .new-comment__input\",\n        replyToReply: \".new-comment--replytoreply> .new-comment__input\",\n        replyTo: \".comment:not(.comment--reply) > .username\",\n        replyReplyTo: \".comment--reply:not(.comment--replytoreply) > .username\",\n        update: \".new-comment--update > .new-comment__input\",\n      },\n    };\n\n    // CONTAINERS - ELEMENTS\n    const container = {\n      replies: document.querySelectorAll(selectors.reply),\n      comments: document.querySelectorAll(selectors.comment),\n      userComments: document.getElementsByClassName(\"comment--you\"),\n      modal: document.getElementsByClassName(\"modal__btn-box--cancel\")[0],\n      btn: {\n        deleteComment: document.getElementsByClassName(\n          \"modal__btn-box--delete\"\n        )[0],\n      },\n      form: {\n        comment: document.querySelector(selectors.form.comment),\n        reply: document.querySelectorAll(selectors.form.reply),\n        replyToReply: document.querySelectorAll(selectors.form.replyToReply),\n        update: document.querySelectorAll(selectors.form.update),\n      },\n      input: {\n        replyTo: document.querySelectorAll(selectors.input.replyTo),\n        replyReplyTo: document.querySelectorAll(selectors.input.replyReplyTo),\n        replyContent: document.querySelectorAll(selectors.input.reply),\n        replyToReplyContent: document.querySelectorAll(\n          selectors.input.replyToReply\n        ),\n        update: document.querySelectorAll(selectors.input.update),\n      },\n    };\n\n    // CONTAINERS - CRUD BUTTONS\n    const CRUD = {\n      edit: document.getElementsByClassName(\"CRUD--edit\"),\n      delete: document.getElementsByClassName(\"CRUD--delete\"),\n      reply: document.getElementsByClassName(\"CRUD--reply\"),\n    };\n\n    // METHODS\n\n    // METHODS - HTTP REQUESTS\n    const httpRequest = {\n      update: function (oldContent, newContent) {\n        for (let x in comments) {\n          if (comments[x].content === oldContent.innerText) {\n            comments[x].content = newContent;\n          } else {\n            for (let y in comments[x].replies) {\n              if (comments[x].replies[y].content === oldContent.innerText) {\n                comments[x].replies[y].content = newContent;\n              }\n            }\n          }\n        }\n      },\n      vote: function (scoreContianer, mode) {\n        const postContainer = scoreContianer.parentElement.parentElement;\n        let content;\n        let change;\n        let score = scoreContianer.innerText;\n        mode === \"upvote\" ? (change = score++) : (change = score--);\n        if (postContainer.childNodes[3].childNodes[1]) {\n          content = postContainer.childNodes[3].childNodes[1];\n        } else {\n          content = postContainer.childNodes[3];\n        }\n        for (let x in comments) {\n          if (comments[x].content === content) {\n            comments[x].score = change;\n          } else {\n            for (let y in comments[x].replies[y]) {\n              const reply = comments[x].replies[y];\n              if ((reply.content = content)) {\n                reply.score = change;\n              }\n            }\n          }\n        }\n      },\n      post: function (src) {\n        const postData = src;\n        const params = {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify(postData),\n        };\n        fetch(\"http://localhost:3000/newPost\", params).then((response) => {\n          if (!response.ok) {\n            throw new Error(\"Network response was not ok\");\n          }\n          return response.json();\n        });\n      },\n      delete: function (id) {\n        const options = {\n          method: \"DELETE\", // Use the DELETE HTTP method\n          headers: {\n            \"Content-Type\": \"application/json\", // Set the content type if needed\n            // You may also need to include authentication headers or other headers here\n          },\n        };\n\n        // Send the DELETE request\n        fetch(`http://localhost:3000/delete/${id}`, options)\n          .then((response) => {\n            if (response.ok) {\n              // Resource successfully deleted\n              console.log(\"Resource deleted successfully\");\n            } else {\n              // Handle error cases here\n              console.error(\"Error deleting resource\");\n            }\n          })\n          .catch((error) => {\n            console.error(\"Fetch error:\", error);\n          });\n      },\n    };\n\n    // METHODS - BUTTON TOGGLES\n    const toggles = {\n      comments: data.comments,\n      edit: function (container) {\n        if (!container.classList.contains(\"comment--edit\")) {\n          container.classList.add(\"comment--edit\");\n        } else {\n          container.classList.remove(\"comment--edit\");\n        }\n      },\n      reply: function (container) {\n        if (container.style.display === \"\") {\n          container.style.display = \"grid\";\n        } else {\n          container.style.display = \"\";\n        }\n      },\n      delete: function (container) {\n        if (\n          container.style.display === \"none\" ||\n          container.style.display === \"\"\n        ) {\n          container.style.display = \"flex\";\n        }\n      },\n    };\n\n    // TOGGLES\n\n    // TOGGLES - EDIT MODE\n    for (let x = 0; x < container.userComments.length; x++) {\n      const comment = container.userComments[x];\n      const editBtn = CRUD.edit[x];\n\n      editBtn.addEventListener(\"click\", () => {\n        toggles.edit(comment);\n      });\n    }\n\n    // TOGGLES - COMMENT REPLY\n    for (let x = 0; x < container.comments.length; x++) {\n      const replyForm = document.querySelectorAll(selectors.form.reply)[x];\n      const replyBtn = document.querySelectorAll(selectors.btn.reply)[x];\n\n      replyBtn.addEventListener(\"click\", () => {\n        toggles.reply(replyForm);\n      });\n    }\n\n    // TOGGLES - REPLY TO REPLY\n    for (let x = 0; x < container.replies.length; x++) {\n      const replyForm = document.querySelectorAll(selectors.form.replyToReply)[\n        x\n      ];\n      const replyBtn = document.querySelectorAll(selectors.btn.replyToReply)[x];\n\n      replyBtn.addEventListener(\"click\", () => {\n        toggles.reply(replyForm);\n      });\n    }\n\n    // TOGGLES - CLOSE DELETE MODAL\n    container.modal.addEventListener(\"click\", () => {\n      const deleteModal = document.getElementsByClassName(\"modal\")[0];\n      if (deleteModal.style.display === \"flex\") {\n        deleteModal.style.display = \"none\";\n      }\n    });\n\n    // CRUD\n\n    // CRUD - FUNCTIONS\n\n    // CRUD - FUNCTIONS - GET REPLY COUNT\n    function replyCount(no, type) {\n      let replyCont;\n      if (type === \"reply\") {\n        replyCont = container.form.reply[no].previousElementSibling;\n      } else if (type === \"replytoreply\") {\n        replyCont = container.form.replyToReply[no].parentElement;\n      }\n      return replyCont.childElementCount;\n    }\n\n    // CRUD - FUNCTIONS - GENERATE ID\n    function generateID() {\n      let IDarray = [];\n      for (let id in comments) {\n        IDarray.push(comments[id].id);\n        if (comments[id].replies.length > 0) {\n          for (let reply in comments[id].replies)\n            IDarray.push(comments[id].replies[reply].id);\n        }\n      }\n      const ID = Math.max(...IDarray) + 1;\n      return ID;\n    }\n\n    // CRUD - FUNCTIONS - NEW POST\n    function newPost(type, source) {\n      const { currentUser } = data;\n\n      const postContainer = document.createElement(\"div\");\n      postContainer.classList.add(\"comment\");\n\n      // adds extra classes if post isn't a comment\n      if (type === \"reply\") {\n        postContainer.classList.add(\"comment--reply\");\n      } else if (type === \"replytoreply\") {\n        postContainer.classList.add(\"comment--reply\");\n        postContainer.classList.add(\"comment--replytoreply\");\n      }\n      postContainer.classList.add(\"comment--you\");\n\n      // generates child elements for new post\n      const newComment = {\n        avatar: element.avatar(source),\n        username: element.username(source),\n        createdAt: element.createdAt(source),\n        content: element.content(source),\n        updateForm: element.updateForm(source),\n        vote: element.vote(source),\n        CRUD: element.CRUD(source),\n      };\n      for (let ele in newComment) {\n        if (newComment[ele] !== newComment.updateForm) {\n          postContainer.append(newComment[ele]);\n        }\n      }\n      if (currentUser[0].username === source.user.username) {\n        postContainer.append(newComment.updateForm);\n      }\n\n      // adds reply class to crud container\n      if (type === \"reply\") {\n        newComment.CRUD.classList.add(\"CRUD-container--reply\");\n      }\n\n      // Adds CRUD functionality\n      CRUDFunction.delete(postContainer);\n\n      return postContainer;\n    }\n\n    // CRUD - DOM MANIPULATION\n    // CRUD - DOM MANIPULATION - NEW COMMENT\n    container.form.comment.addEventListener(\"submit\", (e) => {\n      e.preventDefault();\n\n      const { comments, currentUser } = data;\n      const content = document.querySelector(selectors.input.comment).value;\n\n      const newComment = {\n        id: generateID(),\n        content: content,\n        createdAt: \"TEST\",\n        score: 0,\n        user: {\n          image: {\n            png: currentUser[0].image.png,\n            webp: currentUser[0].image.webp,\n          },\n          username: currentUser[0].username,\n        },\n        replies: [],\n      };\n\n      // Adds comment in data\n      httpRequest.post(newComment);\n      comments.push(newComment);\n\n      // Adds comment in DOM\n      const wrapper = document.getElementById(\"comment-wrapper\");\n      wrapper.appendChild(newPost(\"comment\", newComment));\n    });\n\n    // CRUD - DOM MANIPULATION - NEW REPLY\n    for (let x = 0; x < container.form.reply.length; x++) {\n      container.form.reply[x].addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n\n        const { comments, currentUser } = data;\n        const replyTo = container.input.replyTo[x].innerText;\n        const content = container.input.replyContent[x].value;\n\n        const newReply = {\n          id: generateID(),\n          content: content,\n          createdAt: \"TEST\",\n          replyingTo: replyTo,\n          replies: {},\n          score: 0,\n          user: {\n            image: {\n              png: currentUser[0].image.png,\n              webp: currentUser[0].image.webp,\n            },\n            username: currentUser[0].username,\n          },\n        };\n\n        if (comments[x].replies.length === 0) {\n          // Creates container for replies\n          const replyCont = document.createElement(\"div\");\n          replyCont.classList.add(\"reply-wrapper\");\n          const hr = document.createElement(\"hr\");\n          hr.classList.add(\"reply-wrapper__ruler\");\n          replyCont.appendChild(hr);\n          container.comments[x].insertAdjacentElement(\"afterend\", replyCont);\n\n          // Adds reply in data\n          comments[x].replies[newReply.id] = newReply;\n\n          // Adds reply in DOM\n          replyCont.appendChild(newPost(\"reply\", newReply));\n\n          // Generates hr height for reply container\n          replyCont.style.gridTemplateRows = `repeat(${replyCount(\n            x,\n            \"reply\"\n          )}, auto)`;\n        } else {\n          comments[x].replies[newReply.id] = newReply;\n\n          const replyWrapper = container.form.reply[x].previousElementSibling;\n          replyWrapper.appendChild(newPost(\"reply\", newReply));\n\n          // Generates hr height for reply container\n          replyWrapper.style.gridTemplateRows = `repeat(${replyCount(\n            x,\n            \"reply\"\n          )}, auto)`;\n        }\n        // comments[x].replies[comments[x].replies.length + 1].push(newReply);\n      });\n    }\n\n    //  CRUD - DOM MANIPULATION - NEW REPLY TO REPLY\n    for (let x = 0; x < container.form.replyToReply.length; x++) {\n      container.form.replyToReply[x].addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n\n        const { comments, currentUser } = data;\n        const replyTo = container.input.replyReplyTo[x].innerText;\n        const content = container.input.replyToReplyContent[x].value;\n\n        const newReply = {\n          id: generateID(),\n          content: content,\n          createdAt: \"TEST\",\n          replyingTo: replyTo,\n          replies: {},\n          score: 0,\n          user: {\n            image: {\n              png: currentUser[0].image.png,\n              webp: currentUser[0].image.webp,\n            },\n            username: currentUser[0].username,\n          },\n        };\n\n        // Adds replytoreply in DOM\n        const replyWrapper = container.form.replyToReply[x].parentNode;\n        replyWrapper.appendChild(newPost(\"replytoreply\", newReply));\n\n        // Generates hr height for reply container\n        replyWrapper.style.gridTemplateRows = `repeat(${replyCount(\n          x,\n          \"replytoreply\"\n        )}, auto)`;\n\n        // Adds replytoreply in data\n        const parentComment =\n          replyWrapper.previousSibling.childNodes[3].childNodes[0].innerText;\n        for (let x in comments) {\n          if (comments[x].content === parentComment) {\n            const replies = comments[x].replies;\n            replies[replies.length] = newReply;\n          }\n        }\n      });\n    }\n\n    // CRUD - DOM MANIPULATION - UPDATE\n    for (let x = 0; x < container.form.update.length; x++) {\n      container.form.update[x].addEventListener(\"submit\", (e) => {\n        e.preventDefault();\n\n        // Sets post content\n        let oldContent;\n        if (\n          container.input.update[x].parentElement.parentElement.childNodes[3]\n            .childNodes[1]\n        ) {\n          oldContent =\n            container.input.update[x].parentElement.parentElement.childNodes[3]\n              .childNodes[1];\n        } else {\n          oldContent =\n            container.input.update[x].parentElement.parentElement.childNodes[3]\n              .childNodes[0];\n        }\n\n        // Stores new text for content\n        const newContent = container.input.update[x].value;\n\n        // Updates post in data\n        httpRequest.update(oldContent, newContent);\n\n        // Updates post in DOM\n        oldContent.innerText = newContent;\n      });\n    }\n\n    // VOTE\n    // VOTE - FUNCTION\n    function vote(mode) {\n      const vote = document.getElementsByClassName(`vote__btn--${mode}`);\n      for (let x = 0; x < vote.length; x++) {\n        vote[x].addEventListener(\"click\", (e) => {\n          e.preventDefault();\n\n          // Changes score in DOM\n          const scoreContianer = vote[x].parentElement.childNodes[1];\n          let score = scoreContianer.innerText;\n          mode === \"upvote\" ? score++ : score--;\n          scoreContianer.innerText = score;\n\n          // Changes score in data\n          mode === \"upvote\"\n            ? httpRequest.vote(scoreContianer, \"upvote\")\n            : httpRequest.vote(scoreContianer, \"downvote\");\n        });\n      }\n    }\n\n    // VOTE - UPVOTE\n    vote(\"upvote\");\n\n    // VOTE - DOWNVOTE\n    vote(\"downvote\");\n  })\n  .catch((error) => {\n    // Handle any errors that occurred during the fetch\n    console.error(\"There was a problem with the fetch operation:\", error);\n  });\n"]}